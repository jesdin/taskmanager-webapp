@page
@model TaskManagerApp.Pages.MyTasks.IndexModel

@{
    ViewData["Title"] = "My Tasks";
}

<a asp-page="Create" class="btn btn-success" role="button" data-toggle="tooltip" data-placement="right" title="Create New Task" style="margin-top:5em">Create</a>
<hr class="border-dark" />


<h2 class="display-4">My Tasks</h2>
<div class="row">
    @foreach (var item in Model.MyTask)
    {
        @if (item.IsHighPriority && !item.IsCompleted)
        {
            <partial name="_TaskCard.cshtml" model="item" />
        }
    }
    @foreach (var item in Model.MyTask)
    {
        @if (!item.IsHighPriority && !item.IsCompleted)
        {
            <partial name="_TaskCard.cshtml" model="item" />
        }
    }
</div>

<hr class="border-dark" />
<h2 class="display-4">Completed Tasks</h2>
<div class="row">
    @foreach (var item in Model.MyTask)
    {
        @if (item.IsHighPriority && item.IsCompleted)
        {
            <partial name="_TaskCard.cshtml" model="item" />
        }
    }
    @foreach (var item in Model.MyTask)
    {
        @if (!item.IsHighPriority && item.IsCompleted)
        {
            <partial name="_TaskCard.cshtml" model="item" />
        }
    }
</div>

@section Scripts {
    <partial name="_TaskCardScript.cshtml" />
}